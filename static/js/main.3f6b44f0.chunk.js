(this.webpackJsonpcarstat=this.webpackJsonpcarstat||[]).push([[0],{200:function(e,a,t){e.exports=t(399)},205:function(e,a,t){},206:function(e,a,t){},399:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(11),o=t.n(i),l=(t(205),t(206),t(23)),c=t(402),s=t(403),d=t(33),u=Object(n.memo)((function(e){var a=e.data,t=e.options,n=e.selectBrand;return r.a.createElement(d.a,{options:t,data:a,onElementsClick:function(e){if(e[0]){var a=e[0]._model.label;n(a)}}})})),p=t(7),b=function(e){return{borderColor:e,pointBackgroundColor:"#fff",backgroundColor:e,data:[]}},m={backgroundColor:"blue",animation:{easing:"easeOutQuad"},onResize:null,maintainAspectRatio:!1,responsive:!0},f=["#FF645D","#FFD35B","#71D34D","#00B4C6","#2370EF","#AE43BA"],h=function(e){var a=e.kpiPrimary,t=e.kpiAdditional,n=e.showAdditional,r=e.removeY,i=[{id:a,position:"left",fontStyle:"bold",fontColor:"#2370EF",ticks:{fontColor:"#2370EF",display:!r},scaleLabel:{display:!r,fontColor:"#2370EF",fontSize:14,fontStyle:"bold",labelString:a.toUpperCase()}}];return n&&i.push({id:t,position:"right",fontStyle:"bold",fontColor:"#AE43BA",ticks:{fontColor:"#AE43BA",display:!r},scaleLabel:{display:!r,fontColor:"#AE43BA",fontSize:14,fontStyle:"bold",labelString:t.toUpperCase()}}),{xAxes:[{gridLines:{display:!1}}],yAxes:i}},v=function(e){var a=e.kpiPrimary,t=e.removeY;return{xAxes:[{gridLines:{display:!1}}],yAxes:[{id:a,position:"left",fontStyle:"bold",fontColor:"#2370EF",ticks:{fontColor:"#2370EF",display:!t},scaleLabel:{display:!t,fontColor:"#2370EF",fontSize:14,fontStyle:"bold",labelString:a.toUpperCase()}}]}},y=Object(n.memo)((function(e){var a=e.data,t=e.options;return(r.a.createElement(d.c,{options:t,data:a}))})),E=t(34),O=t(86),g=t(87);function j(){var e=Object(O.a)(["\n  height: 60px;\n  width: 100%;\n  margin: 20px 0;\n  border-radius: 10px;\n  background-color: #fff;\n  padding: 10px;\n  display: flex;\n  align-items: center;\n  border: 1px solid silver;\n  > div {\n    margin-right: 15px;\n  }\n\n  .ant-radio-wrapper {\n    display: block;\n  }\n"]);return j=function(){return e},e}var k=g.a.div(j()),C=t(401),A=t(404),D=t(405),S=t(97),P=Object(n.createContext)(),w=C.default.Button,x=C.default.Group,B=Object(n.memo)((function(e){var a=e.setBlockMode,t=e.blockMode,i=e.chartSettings,o=e.setCharsSettings,l=e.tableType,c=e.setTableType,s=function(e){var a,t,n,r=null!==(a=null===e||void 0===e?void 0:null===(t=e.cars)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.sales)&&void 0!==a?a:{};return Object.keys(r).map((function(e){return{label:e,value:e}})).reverse()}(Object(n.useContext)(P).carsApiState),d=function(e,a){var t=Object(E.a)({},e,a);"kpiPrimary"===e&&(t.kpiAdditional="sales"===a?"revenue":"sales"),"kpiAdditional"===e&&(t.kpiPrimary="sales"===a?"revenue":"sales"),o(Object(p.a)(Object(p.a)({},i),t))},u=i.yearPrimary,b=i.kpiPrimary,m=i.showAdditional;return r.a.createElement(k,null,r.a.createElement(x,{value:t,onChange:function(e){return a(e.target.value)}},r.a.createElement(w,{value:"bar"},r.a.createElement(S.Icon,{name:"chart-bar"})," Bar"),r.a.createElement(w,{value:"line"},r.a.createElement(S.Icon,{name:"chart-line"})," Line"),r.a.createElement(w,{value:"table"},r.a.createElement(S.Icon,{name:"table"})," Table")),"table"!==t&&r.a.createElement(A.a,{onChange:function(e){return d("yearPrimary",e)},options:s,value:u}),r.a.createElement(C.default.Group,{onChange:function(e){return d("kpiPrimary",e.target.value)},value:b},r.a.createElement(C.default,{value:"sales"},"Sales"),r.a.createElement(C.default,{value:"revenue"},"Revenue")),"bar"===t&&r.a.createElement(D.a,{checked:m,onChange:function(e){return d("showAdditional",e.target.checked)}},"Additional KPI"),"table"===t&&r.a.createElement(x,{value:l,onChange:function(e){return c(e.target.value)}},r.a.createElement(w,{value:"ag"},"ag-Grid"),r.a.createElement(w,{value:"reacttable"},"React-Table"),r.a.createElement(w,{value:"antd"},"Ant Design Grid")))})),T=t(406),F=t(407),R=Object(n.memo)((function(e){var a=e.brand,t=e.yearPrimary,i=Object(n.useContext)(P).carsApiState.cars,o=Object(n.useState)(null),c=Object(l.a)(o,2),s=c[0],u=c[1];if(Object(n.useEffect)((function(){var e=function(e){var a=e.data,t=e.year,n=e.brand,r=[],i=[],o=[],l=[],c=a.find((function(e){return e.brand===n}));if(c){var s=c.sales,d=c.shares,u=c.revenue;Object.keys(c.sales).forEach((function(e){r.push(e),i.push(s[e]),o.push(u[e])})),l.push(d[t]),l.push(100-d[t])}return{lineData:{labels:r,datasets:[Object(p.a)(Object(p.a)({},b("#2370EF")),{},{data:i,label:n,fill:!1})]},barData:{labels:r,datasets:[Object(p.a)(Object(p.a)({},b("#AE43BA")),{},{data:o,label:n})]},pieData:{labels:[n,"Others"],datasets:[{data:[].concat(l),backgroundColor:[f[0],f[1]]}]},lineOptions:Object(p.a)(Object(p.a)({},m),{},{legend:{display:!1},scales:v({kpiPrimary:"sales",removeY:!0}),title:{display:!0,position:"top",text:"".concat(n," sales history"),fontSize:15}}),barOptions:Object(p.a)(Object(p.a)({},m),{},{legend:{display:!1},scales:h({kpiPrimary:"revenue",removeY:!0}),title:{display:!0,position:"top",text:"".concat(n," sales revenue"),fontSize:15}}),pieOptions:{legend:{display:!1},title:{display:!0,position:"top",text:"".concat(n," ").concat(t," market share"),fontSize:15},animation:{easing:"easeOutQuad"},onResize:null,maintainAspectRatio:!1,responsive:!0}}}({data:i,year:t,brand:a}),n=e.barData,r=e.barOptions,o=e.lineData,l=e.lineOptions,c=e.pieData,s=e.pieOptions;u({barData:n,barOptions:r,lineData:o,lineOptions:l,pieData:c,pieOptions:s})}),[a,t]),!s)return null;var y=s.barData,E=s.barOptions,O=s.lineData,g=s.lineOptions,j=s.pieData,k=s.pieOptions;return(r.a.createElement(T.a,{className:"additional-charts-row"},r.a.createElement(F.a,{sm:24,md:8},r.a.createElement(d.c,{options:g,data:O})),r.a.createElement(F.a,{sm:24,md:8},r.a.createElement(d.a,{options:E,data:y})),r.a.createElement(F.a,{sm:24,md:8},r.a.createElement(d.b,{options:k,data:j}))))})),G=t(190),z=(t(372),t(373),t(191)),I=Object(n.memo)((function(e){var a=e.tableData,t=e.selectBrand,n=Object(z.a)(300,(function(e){e.api.sizeColumnsToFit()}));return r.a.createElement("div",{className:"ag-theme-balham",style:{height:"100%",width:"100%"}},r.a.createElement(G.AgGridReact,{columnDefs:a.columnDefs,rowData:a.rowData,defaultColDef:{sortable:!0,resizable:!0},rowSelection:"single",onSelectionChanged:function(e){var a=e.api.getSelectedRows()[0].brand;t(a)},onGridReady:function(e){e.api.sizeColumnsToFit()},onGridSizeChanged:n}))})),N=t(130);function L(){var e=Object(O.a)(["\n  padding: 1rem;\n  overflow-y: auto;\n  height: 100%;\n  width: 100%;\n\n  table {\n    border-spacing: 0;\n    border: 1px solid black;\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n  }\n"]);return L=function(){return e},e}function U(e){var a=e.columns,t=e.data,n=Object(N.useTable)({columns:a,data:t},N.useSortBy),i=n.getTableProps,o=n.getTableBodyProps,l=n.headerGroups,c=n.rows,s=n.prepareRow,d=c.slice(0,20);return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",i(),r.a.createElement("thead",null,l.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",e.getHeaderProps(e.getSortByToggleProps()),e.render("Header"),r.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""))})))}))),r.a.createElement("tbody",o(),d.map((function(e,a){return s(e),r.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return r.a.createElement("td",e.getCellProps(),e.render("Cell"))})))})))))}var _,H=Object(n.memo)((function(e){var a=e.tableData,t=a.columns,n=a.data;e.selectBrand;return(r.a.createElement(M,null,r.a.createElement(U,{data:n,columns:t,showPagination:!1,showPageSizeOptions:!1,className:"-striped -highlight"})))})),M=g.a.div(L()),Y=Object(n.memo)((function(e){var a=e.data,t=e.tableType,n=e.kpiPrimary,i=e.selectBrand,o=function(e,a,t){if("ag"===a){var n=[{headerName:"Brand",field:"brand"}],r=[];return e.forEach((function(e,a){a||(n=n.concat(Object.keys(e.sales).map((function(e){return{headerName:e,field:e}}))));var i=e[t],o={brand:e.brand};Object.keys(i).forEach((function(e){return o[e]=i[e]})),r.push(o)})),{columnDefs:n,rowData:r}}if("reacttable"===a){var i=[{sortable:!0,Header:"Brand",accessor:"brand"}],o=[];return e.forEach((function(e,a){a||(i=i.concat(Object.keys(e.sales).map((function(e){return{sortable:!0,Header:e,accessor:e}}))));var n=e[t],r={brand:e.brand};Object.keys(n).forEach((function(e){return r[e]=n[e]})),o.push(r)})),{columns:i,data:o}}}(a,t,n);return"ag"===t?r.a.createElement(I,{tableData:o,selectBrand:i}):"reacttable"===t?r.a.createElement(H,{tableData:o,selectBrand:i}):r.a.createElement("div",null,"Another Grids Will be soon here!")})),W={yearPrimary:"2019",kpiPrimary:"sales",kpiAdditional:"revenue",showAdditional:!1},J=function(e){var a,t,i=e.cars,o=null!==(a=null===i||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:t.brand)&&void 0!==a?a:"Toyota",c=Object(n.useState)("bar"),s=Object(l.a)(c,2),d=s[0],E=s[1],O=Object(n.useState)(W),g=Object(l.a)(O,2),j=g[0],k=g[1],C=Object(n.useState)(null),A=Object(l.a)(C,2),D=A[0],S=A[1],P=Object(n.useState)(o),w=Object(l.a)(P,2),x=w[0],T=w[1],F=Object(n.useState)("ag"),G=Object(l.a)(F,2),z=G[0],I=G[1];if(Object(n.useEffect)((function(){var e=j.yearPrimary,a=j.kpiPrimary,t=j.kpiAdditional,n=j.showAdditional,r=function(e){var a=e.data,t=e.yearPrimary,n=e.kpiPrimary,r=e.kpiAdditional,i=e.showAdditional,o=[],l=[Object(p.a)(Object(p.a)({},b("#2370EF")),{},{label:n.toUpperCase(),yAxisID:n})];i&&l.push(Object(p.a)(Object(p.a)({},b("#AE43BA")),{},{label:r.toUpperCase(),yAxisID:r})),a.forEach((function(e){o.push(e.brand),l[0].data.push(e[n][t]),i&&l[1].data.push(e[r][t])}));var c=h({kpiPrimary:n,kpiAdditional:r,showAdditional:i});return{barChartOptions:Object(p.a)(Object(p.a)({},m),{},{scales:c,title:{display:!0,position:"top",text:t,fontSize:18}}),barChartData:{labels:o,datasets:l}}}({data:i,yearPrimary:e,kpiPrimary:a,kpiAdditional:t,showAdditional:n}),o=r.barChartData,l=r.barChartOptions,c=function(e){var a,t=e.data,n=e.kpiPrimary,r=[];t.forEach((function(e,t){var i=e.brand;t||(a=Object.keys(e.sales)),r.push(Object(p.a)(Object(p.a)({},b(f[t])),{},{fill:!1,label:i,data:Object.values(e[n])}))}));var i=v({kpiPrimary:n});return{lineChartOptions:Object(p.a)(Object(p.a)({},m),{},{scales:i}),lineChartData:{labels:a,datasets:r}}}({data:i,yearPrimary:e,kpiPrimary:a,showAdditional:n}),s=c.lineChartData,d=c.lineChartOptions;S({barChartOptions:l,barChartData:o,lineChartData:s,lineChartOptions:d})}),[i,j]),!i)return null;var N={setBlockMode:E,blockMode:d,chartSettings:j,setCharsSettings:k,tableType:z,setTableType:I};return(r.a.createElement("div",{className:"main-chart"},r.a.createElement(B,N),r.a.createElement("div",{className:"main-chart-container",style:"bar"===d?{cursor:"pointer"}:{}},D&&"bar"===d&&r.a.createElement(u,{data:D.barChartData,options:D.barChartOptions,selectBrand:T}),D&&"line"===d&&r.a.createElement(y,{data:D.lineChartData,options:D.lineChartOptions}),"table"===d&&r.a.createElement(Y,{data:i,tableType:z,kpiPrimary:j.kpiPrimary,selectBrand:T})),r.a.createElement(R,{brand:x,yearPrimary:j.yearPrimary})))},K=function(){var e=Object(n.useContext)(P),a=e.getCarsData,t=e.carsApiState,i=Object(n.useCallback)((function(){a()}),[]);return Object(n.useEffect)((function(){i()}),[i]),t.cars?r.a.createElement(J,{cars:t.cars}):null},Q=t(408),$=t(409),q=t(410),V=c.a.Sider,X=function(){var e=Object(n.useState)(!1),a=Object(l.a)(e,2),t=a[0],i=a[1];return(r.a.createElement(c.a,{style:{minHeight:"100vh",backgroundColor:"#f2f2f2"}},r.a.createElement(V,{collapsible:!0,collapsed:t,onCollapse:i},r.a.createElement("div",{className:"logo"}),r.a.createElement(s.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},r.a.createElement(s.a.Item,{key:"1",icon:r.a.createElement(Q.a,null)},"nav 1"),r.a.createElement(s.a.Item,{key:"2",icon:r.a.createElement($.a,null)},"nav 2"),r.a.createElement(s.a.Item,{key:"3",icon:r.a.createElement(q.a,null)},"nav 3"))),r.a.createElement("div",{className:"dashboard container"},r.a.createElement(K,null))))},Z=(t(382),t(95)),ee=t.n(Z),ae=t(194),te=(_={},Object(E.a)(_,"carsApi/GET_CARS_DATA",(function(e,a){return Object(p.a)(Object(p.a)({},e),{},{cars:a.payload,loading:!1})})),Object(E.a)(_,"carsApi/SET_LOADING",(function(e){return Object(p.a)(Object(p.a)({},e),{},{loading:!0})})),Object(E.a)(_,"DEFAULT",(function(e){return e})),_),ne=function(e,a){return(te[a.type]||te.DEFAULT)(e,a)},re=t(195),ie=t.n(re),oe=function(e){var a=e.children,t=Object(n.useReducer)(ne,{}),i=Object(l.a)(t,2),o=i[0],c=i[1],s=function(){var e=Object(ae.a)(ee.a.mark((function e(){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(),e.prev=1,e.next=4,ie.a.get("cars.json");case 4:a=e.sent,c({type:"carsApi/GET_CARS_DATA",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("GET DATA ERROR: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),d=function(){c({type:"carsApi/SET_LOADING"})};return r.a.createElement(P.Provider,{value:{getCarsData:s,carsApiState:o}},a)};var le=function(){return r.a.createElement(oe,null,r.a.createElement(X,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[200,1,2]]]);
//# sourceMappingURL=main.3f6b44f0.chunk.js.map